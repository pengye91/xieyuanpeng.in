# 使用PostgreSQL的schema实现多租户应用

在不涉及硬件虚拟化等技术的情况，为了实现多租户应用，有以下几种方式：

1. 每个租户使用独立的技术栈，其中包括了：
    - 独立的应用程序代码
    - 独立的应用服务器
    - 独立的数据库

2. 每个租户使用独立的数据库，但其他技术共享

3. 所有代码共享，在数据库层面所有租户共享一台数据库，在表中增加一列租户id来实现
数据隔离（根本不算隔离）

第一种的成本太高并且浪费太多，第三种设计存在数据泄露的隐患的同时，
当租户多了的时候，数据两增长过快或导致表过大，不得不引入分表的设计，太复杂。

选择第2种涉及看来是一种比较折中的方式。

下面介绍这种设计方式的利弊：
